---
// src/pages/[lang]/promotions/index.astro
import { setLocale, t, type Locale } from '../../../i18n/i18n';
import MainLayout from '../../../layouts/MainLayout.astro';
import PromotionsView from '../../../views/Promotions/index.astro';

export async function getStaticPaths() {
  return [
    { params: { lang: 'es' } },
    { params: { lang: 'en' } }
  ];
}

const { lang } = Astro.params as { lang: Locale };

setLocale(lang);

// Obtener metadatos
const metaTitle = t('meta.promotions.title', { namespace: 'common', locale: lang });
const metaDescription = t('meta.promotions.description', { namespace: 'common', locale: lang });
---

<MainLayout title={metaTitle} description={metaDescription}>
  <PromotionsView currentLang={lang} />
</MainLayout>
