---
import { routesConfig, getRouteById } from '../../config/routes';
import { setLocale, t, type Locale } from '../../i18n/i18n';
import MainLayout from '../../layouts/MainLayout.astro';
// Importa el componente de contenido directamente
import HomePageContent from '../../views/Home/index.astro';

export async function getStaticPaths() {
  const homeRoute = getRouteById('home');
  if (!homeRoute) return [];

  return Object.keys(homeRoute.slugs).map(lang => ({
    params: { lang },
  }));
}

const { lang } = Astro.params as { lang: Locale };
setLocale(lang);

const homeRoute = getRouteById('home');
if (!homeRoute) {
  // Manejar el caso en que la ruta 'home' no est√© definida, aunque getStaticPaths deber√≠a prevenir esto.
  // Podr√≠as redirigir a 404 o mostrar un error.
  throw new Error("Home route configuration is missing.");
}

const pageTitle = homeRoute.metaTitleKey ? t(homeRoute.metaTitleKey) : 'Home';
const pageDescription = homeRoute.metaDescriptionKey ? t(homeRoute.metaDescriptionKey) : '';

const ContentComponent = HomePageContent; // Asignaci√≥n directa para la p√°gina de inicio

// SEO Keywords based on language
const seoKeywords = lang === 'es' 
  ? 'snacks yummies, taqueritos, zambos, ranchitas marca l√≠der centroam√©rica, botanas honduras, snacks guatemala el salvador, snacks picantes, tortrix, doritos competencia'
  : 'snacks yummies, taqueritos, zambos, ranchitas, leading brand central america, snacks honduras, guatemala el salvador snacks, spicy snacks, tortrix, doritos competitor';
---
<MainLayout title={pageTitle} description={pageDescription}>
  <Fragment slot="head">
    <!-- SEO Meta Tags -->
    <meta name="keywords" content={seoKeywords}>
    <meta name="author" content="Snacks Yummies">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href={`https://snacksyummies.com/${lang}`}>
    
    <!-- Language Alternates -->
    <link rel="alternate" hreflang="es" href="https://snacksyummies.com/es">
    <link rel="alternate" hreflang="en" href="https://snacksyummies.com/en">
    <link rel="alternate" hreflang="x-default" href="https://snacksyummies.com/es">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content={`Snacks Yummies - ${pageTitle}`}>
    <meta property="og:description" content={pageDescription}>
    <meta property="og:image" content="https://snacksyummies.com/images/og-snacks-yummies.jpg">
    <meta property="og:url" content={`https://snacksyummies.com/${lang}`}>
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Snacks Yummies">
    <meta property="og:locale" content={lang === 'es' ? 'es_ES' : 'en_US'}>
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content={`Snacks Yummies - ${pageTitle}`}>
    <meta name="twitter:description" content={pageDescription}>
    <meta name="twitter:image" content="https://snacksyummies.com/images/twitter-snacks-yummies.jpg">
    <meta name="twitter:site" content="@SnacksYummies">
    
    <!-- Structured Data -->
    <script type="application/ld+json" set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Snacks Yummies",
      "alternateName": ["Yummies", "Snacks Yummies Centroam√©rica"],
      "url": "https://snacksyummies.com",
      "logo": "https://snacksyummies.com/images/logo.png",
      "description": lang === 'es' ? "üå∂Ô∏è Marca #1 de snacks en Centroam√©rica desde 1990. Taqueritos, Zambos, Ranchitas conquistan Honduras, Guatemala, El Salvador " : "üå∂Ô∏è #1 snack brand in Central America since 1990. Taqueritos, Zambos, Ranchitas Honduras, Guatemala, El Salvador",
      "foundingDate": "1990",
      "slogan": lang === 'es' ? "El sabor que conquista Centroam√©rica" : "The flavor that conquers Central America",
      "areaServed": [
        {"@type": "Country", "name": "Honduras"},
        {"@type": "Country", "name": "Guatemala"},
        {"@type": "Country", "name": "El Salvador"},
        {"@type": "Country", "name": "Nicaragua"},
        {"@type": "Country", "name": "Costa Rica"},
        {"@type": "Country", "name": "Rep√∫blica Dominicana"}
      ],
      "brand": [
        {
          "@type": "Brand",
          "name": "Taqueritos",
          "url": "https://taqueritos.com",
          "description": lang === 'es' ? "Si de intensidad hablamos, los populares Taqueritos tienen la mezcla de sabor ideal para hacer estallar tus sentidos. ¬øTe atrev√©s a liberar el fuego?" : "If we talk about intensity, the popular Taqueritos have the perfect mix of flavor to make your senses explode. Are you brave enough to release the fire?"
        },
        {
          "@type": "Brand", 
          "name": "Zambos",
          "url": "https://www.zambos.com",
          "description": lang === 'es' ? "Es una marca con m√°s de 40 a√±os en el mercado. Posicionada como una l√≠nea de productos de la m√°s alta calidad. Generaciones de consumidores han crecido con Zambos y la han convertido en una marca Hondure√±a e ic√≥nica de los centroamericanos y nost√°lgica en el mundo." : "It's a brand with over 40 years in the market. Positioned as a line of products of the highest quality, Zambos has grown up with generations of consumers, turning it into a Honduran brand that's iconic among Central Americans and a nostalgic brand around the world."
        },
        {
          "@type": "Brand",
          "name": "Ranchitas", 
          "url": "https://ranchitas.com",
          "description": lang === 'es' ? "Conoce todas las formas de Cronchear tu mundo con recetas y contenidos con sabores explosivos. Entra y enciendo el fuego del Cronch!" : "Discover all the ways to Cronch your world with recipes and contents with explosive flavors. Enter and ignite the Cronch fire!"
        }
      ],
      "sameAs": [
        "https://www.facebook.com/SnacksYummies",
        "https://www.instagram.com/snacksyummies/",
        "https://www.tiktok.com/@snacksyummies", 
        "https://x.com/SnacksYummies"
      ],
      "contactPoint": {
        "@type": "ContactPoint",
        "telephone": "+504-2275-3370",
        "contactType": "customer service",
        "availableLanguage": ["Spanish", "English"],
        "hoursAvailable": "Mo-Fr 08:00-17:00"
      },
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "Barrio Moraz√°n, Frente a Plantas Tropicales, Bulevar Suyapa",
        "addressLocality": "Tegucigalpa",
        "addressCountry": "Honduras"
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "reviewCount": "15000",
        "bestRating": "5"
      }
    })}></script>
    
    <script type="application/ld+json" set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Snacks Yummies",
      "url": "https://snacksyummies.com",
      "description": lang === 'es' ? "Sitio web oficial de Snacks Yummies, la marca l√≠der de snacks en Centroam√©rica" : "Official website of Snacks Yummies, the leading snack brand in Central America",
      "inLanguage": lang === 'es' ? "es-ES" : "en-US",
      "potentialAction": {
        "@type": "SearchAction",
        "target": `https://snacksyummies.com/${lang}/search?q={search_term_string}`,
        "query-input": "required name=search_term_string"
      },
      "mainEntity": [
        {
          "@type": "WebPage",
          "name": lang === 'es' ? "Marcas" : "Brands",
          "url": `https://snacksyummies.com/${lang === 'es' ? 'es/marcas' : 'en/brands'}`
        },
        {
          "@type": "WebPage",
          "name": lang === 'es' ? "Nosotros" : "About Us",
          "url": `https://snacksyummies.com/${lang === 'es' ? 'es/nosotros' : 'en/about-us'}`
        },
        {
          "@type": "WebPage",
          "name": "Blog",
          "url": `https://snacksyummies.com/${lang}/blog`
        },
        {
          "@type": "WebPage",
          "name": lang === 'es' ? "Contacto" : "Contact",
          "url": `https://snacksyummies.com/${lang === 'es' ? 'es/contacto' : 'en/contact'}`
        }
      ]
    })}></script>
    
    <script type="application/ld+json" set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": lang === 'es' ? "Inicio" : "Home",
          "item": `https://snacksyummies.com/${lang}`
        }
      ]
    })}></script>
    
    <!-- FAQ Structured Data -->
    <script type="application/ld+json" set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": lang === 'es' ? "¬øD√≥nde puedo comprar Snacks Yummies?" : "Where can I buy Snacks Yummies?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": lang === 'es' ? "Puedes encontrar nuestros snacks Taqueritos, Zambos, Ranchitas en supermercados, tiendas de conveniencia y distribuidores autorizados en Honduras, Guatemala, El Salvador, Nicaragua, Costa Rica y Rep√∫blica Dominicana." : "You can find our Taqueritos, Zambos, Ranchitas  snacks in supermarkets, convenience stores and authorized distributors in Honduras, Guatemala, El Salvador, Nicaragua, Costa Rica and Dominican Republic."
          }
        },
        {
          "@type": "Question",
          "name": lang === 'es' ? "¬øCu√°les son las marcas de Snacks Yummies?" : "What are the Snacks Yummies brands?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": lang === 'es' ? "Nuestras marcas principales son: Taqueritos, Zambos, Ziba's, Ranchitas, Xixi, Del Rancho, YummiPops, Yumminuts y YummiMix. " : "Our main brands are: Taqueritos, Zambos, Ziba's, Ranchitas, Xixi, Del Rancho, YummiPops, Yumminuts and YummiMix."
          }
        },
        {
          "@type": "Question",
          "name": lang === 'es' ? "¬øDesde cu√°ndo existe Snacks Yummies?" : "How long has Snacks Yummies existed?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": lang === 'es' ? "Snacks Yummies es la marca l√≠der de snacks en Centroam√©rica desde 1990, con m√°s de 30 a√±os conquistando paladares." : "Snacks Yummies has been the leading snack brand in Central America since 1990, with over 30 years conquering palates."
          }
        }
      ]
    })}></script>
    
    <!-- Product Schema -->
    <script type="application/ld+json" set:html={JSON.stringify({
      "@context": "https://schema.org",
      "@type": "Product",
      "name": "Snacks Yummies",
      "description": lang === 'es' ? " Taqueritos, Zambos, Ranchitas. La marca #1 en Centroam√©rica desde 1990." : "Complete collection of authentic Mexican snacks: Taqueritos, Zambos, Ranchitas. The #1 brand in Central America since 1990.",
      "brand": {
        "@type": "Brand",
        "name": "Snacks Yummies"
      },
      "category": lang === 'es' ? "Snacks y Botanas" : "Snacks and Chips",
      "offers": {
        "@type": "AggregateOffer",
        "availability": "https://schema.org/InStock",
        "priceCurrency": "HNL"
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "4.8",
        "reviewCount": "15000"
      }
    })}></script>
  </Fragment>
  <ContentComponent />
</MainLayout>

