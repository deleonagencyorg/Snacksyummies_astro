---
// src/components/recipes/Categories.astro
import { t } from '../../i18n/i18n';
import type { Locale } from '../../i18n/i18n';
import { getLocale } from '../../i18n/i18n';
import RecipeMonth from './RecipeMonth.astro';

const currentLang = getLocale();
const brands = t('brands', { namespace: 'brands', locale: currentLang });
---

<div class="content-stretch flex flex-col gap-8 items-center justify-start w-full bg-gradient-to-r from-blue-400 to-blue-500 py-12">
  <!-- Header Title -->
  <div class="text-center">
    <h2 class="text-white text-2xl md:text-4xl font-bold font-['Trois_Mille_TRIAL_Bold'] leading-10">
      Recetas con tus marcas favoritas
    </h2>
  </div>

  <!-- Brands Carousel -->
  <div class="w-full max-w-7xl mx-auto px-4">
    <div class="flex gap-6 md:gap-8 overflow-x-auto scrollbar-hide pb-4" style="scroll-snap-type: x mandatory;">
      {brands.map((brand: any) => (
        <div 
          class="brand-card flex-shrink-0 w-20 h-20 md:w-24 md:h-24 rounded-full shadow-lg flex items-center justify-center hover:scale-105 transition-all duration-300 cursor-pointer" 
          style={`scroll-snap-align: center; background-color: ${brand.bgColor}; --brand-color: ${brand.bgColor};`}
        >
          <img 
            src={brand.logo} 
            alt={brand.title}
            class="w-16 h-16 md:w-20 md:h-20 object-contain rounded-full"
            loading="lazy"
          />
        </div>
      ))}
    </div>
  </div>

  <!-- Recipe of the Month -->
  <div class="w-full max-w-5xl px-5">
    <RecipeMonth />
  </div>
</div>

<style>
  /* Hide scrollbar for Chrome, Safari and Opera */
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Hide scrollbar for IE, Edge and Firefox */
  .scrollbar-hide {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
  }

  /* Smooth scrolling behavior */
  .scrollbar-hide {
    scroll-behavior: smooth;
  }

  .brand-card{
    margin-top: 12px;
  }

  /* Brand card hover effect */
  .brand-card:hover {
    border-radius: 62.5rem;
    border: 4px solid var(--brand-color);
    box-shadow: 0 8px 25px -5px color-mix(in srgb, var(--brand-color) 30%, transparent);
    background-color: color-mix(in srgb, var(--brand-color) 80%, black 20%) !important;
  }
</style>